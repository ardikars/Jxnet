FROM i386/debian:8

MAINTAINER ardikars
USER root

RUN apt-get update

RUN apt-get -y install default-jdk default-jre
RUN apt-get -y install gcc g++
RUN apt-get -y install bison
RUN apt-get -y install flex
RUN apt-get -y install git
RUN apt-get -y install bash
RUN apt-get -y install cmake
RUN apt-get -y install --purge libpcap*

RUN mkdir -p ~/project
RUN git clone https://github.com/jxnet/Jxnet.git ~/project/Jxnet

# build and install libpcap
RUN cd ~/project/Jxnet/jxnet-native/libpcap && ./configure && make && make install

# build jxnet native library
RUN cd ~/project/Jxnet/jxnet-native/ && mkdir build && cd build && cmake ../ && make
